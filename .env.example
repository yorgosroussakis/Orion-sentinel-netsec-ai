# Orion Sentinel Environment Configuration

# =============================================================================
# Network Interface Configuration
# =============================================================================
# Interface to monitor (mirrored/SPAN traffic from switch)
# Examples: eth0, eth1, enx00e04c68xxxx (USB Ethernet), wlan0
# This interface should be dedicated to receiving mirrored traffic
MONITOR_IF=eth0

# =============================================================================
# Node Identification (Recommended for multi-node deployments)
# =============================================================================
# Unique name for this NetSec node
NODE_NAME=netsec-pi-01
# Physical location (helps with troubleshooting)
NODE_LOCATION=home-lab
# Hostname (must match system hostname for proper Loki labels)
HOSTNAME=pi-netsec

# =============================================================================
# Loki (Log Aggregation)
# =============================================================================
# Central Loki for NSM + AI (Dell/CoreSrv)
# Normal SPoG mode: Point to CoreSrv Loki on LAN (e.g., http://192.168.8.XXX:3100)
# Dev/lab mode: Use local Loki (http://loki:3100) with LOCAL_OBSERVABILITY=true
LOKI_URL=http://192.168.8.XXX:3100

# Dev-only flag for local Loki+Grafana on NetSec node
# Normal SPoG mode: LOCAL_OBSERVABILITY=false (logs to CoreSrv)
# Dev/lab mode: LOCAL_OBSERVABILITY=true (local observability stack)
LOCAL_OBSERVABILITY=false

# =============================================================================
# Prometheus (Metrics Collection)
# =============================================================================
# CoreSrv Prometheus endpoint for metrics scraping
# In SPoG mode: Point to CoreSrv Prometheus (e.g., http://192.168.8.XXX:9090)
# In standalone mode: Not needed
PROMETHEUS_URL=http://192.168.8.XXX:9090

# =============================================================================
# SOAR (Security Orchestration and Automated Response)
# =============================================================================
SOAR_DRY_RUN=1
SOAR_POLL_INTERVAL=60
SOAR_PLAYBOOKS_FILE=/config/playbooks.yml
SOAR_ALLOW_EMPTY_PLAYBOOKS=0

# =============================================================================
# Notifications
# =============================================================================

# --- Email Notifications (SMTP) ---
NOTIFY_SMTP_HOST=smtp.gmail.com
NOTIFY_SMTP_PORT=587
NOTIFY_SMTP_USER=
NOTIFY_SMTP_PASS=
NOTIFY_EMAIL_FROM=
NOTIFY_EMAIL_TO=
NOTIFY_SMTP_USE_TLS=true

# --- Signal Notifications ---
# Requires signal-cli with REST API running
NOTIFY_SIGNAL_ENABLED=false
NOTIFY_SIGNAL_API_URL=http://signal-cli:8080
NOTIFY_SIGNAL_NUMBER=
NOTIFY_SIGNAL_RECIPIENTS=

# --- Telegram Notifications ---
# Get bot token from @BotFather on Telegram
NOTIFY_TELEGRAM_ENABLED=false
NOTIFY_TELEGRAM_BOT_TOKEN=
NOTIFY_TELEGRAM_CHAT_ID=

# --- Webhook Notifications ---
NOTIFY_WEBHOOK_URL=
NOTIFY_WEBHOOK_TOKEN=

# =============================================================================
# Threat Intelligence
# =============================================================================
IOC_STORE_PATH=/data/threat_intel.db

# AlienVault OTX (requires free API key from otx.alienvault.com)
TI_ENABLE_OTX=false
TI_OTX_API_KEY=

# abuse.ch URLhaus (no key required)
TI_ENABLE_URLHAUS=true

# abuse.ch Feodo Tracker (no key required)
TI_ENABLE_FEODO=true

# PhishTank (optional key for higher rate limits)
TI_ENABLE_PHISHTANK=true
TI_PHISHTANK_API_KEY=

# =============================================================================
# Pi-hole Integration
# =============================================================================
PIHOLE_URL=http://192.168.1.2
PIHOLE_API_KEY=your-pihole-api-key-here

# =============================================================================
# Device Inventory
# =============================================================================
INVENTORY_POLL_INTERVAL=300
INVENTORY_DB_PATH=/data/inventory.db

# =============================================================================
# Change Monitor
# =============================================================================
CHANGE_MONITOR_INTERVAL_HOURS=24
CHANGE_MONITOR_PERIOD_DAYS=7

# =============================================================================
# Health Score
# =============================================================================
HEALTH_SCORE_INTERVAL_HOURS=1

# =============================================================================
# Web UI / API Server
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false

# =============================================================================
# Grafana
# =============================================================================
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=INFO
