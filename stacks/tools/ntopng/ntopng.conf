# ntopng Configuration for Orion Sentinel NetSec Pi
# Network traffic analysis on mirrored/SPAN port
#
# This configuration is designed for a Raspberry Pi 5 with 2.5GbE
# connected to a switch mirror/SPAN port for passive traffic analysis.
#
# Edit this file: sudo nano /path/to/stacks/tools/ntopng/ntopng.conf

# =============================================================================
# Network Interface Configuration
# =============================================================================
# Interface to monitor (must be the same as NETSEC_INTERFACE in .env)
# This should be the interface receiving mirrored/SPAN traffic from your switch
--interface=eth0

# =============================================================================
# Local Networks Configuration
# =============================================================================
# Define your local network CIDRs
# ntopng uses this to classify local vs remote hosts
# Separate multiple networks with commas
# Example: --local-networks "192.168.0.0/16,10.0.0.0/8"
--local-networks "192.168.0.0/16"

# =============================================================================
# HTTP Interface Configuration
# =============================================================================
# HTTP port for web interface
--http-port=3000

# Bind to all interfaces (required for LAN access)
# For localhost-only access, change to --http-binding-address=127.0.0.1
--http-binding-address=0.0.0.0

# =============================================================================
# Data Directory Configuration
# =============================================================================
# Data directory for persistent storage
# This is mapped to NVMe storage via Docker volume
--data-dir=/var/lib/ntopng

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis host for caching and data operations
# When using network_mode: host, ntopng connects to Redis via localhost
# Redis container exposes port 6379 on host (bound to 127.0.0.1)
--redis=127.0.0.1:6379

# =============================================================================
# DNS Resolution Configuration
# =============================================================================
# DNS resolution mode
# 0 = Decode DNS responses only
# 1 = Decode DNS responses and resolve local numeric IPs only
# 2 = Decode DNS responses and resolve all numeric IPs (can be slow)
# 3 = Decode DNS responses, resolve all IPs, and use external resolution
--dns-mode=1

# =============================================================================
# Performance and Resource Settings
# =============================================================================
# Disable login requirement (LAN-only deployment)
# SECURITY WARNING: Only use on trusted LANs
# For production, remove this line and set up authentication
--disable-login=1

# Community version features
--community

# =============================================================================
# Packet Analysis Settings
# =============================================================================
# Disable unnecessary protocols to reduce CPU usage
# Uncomment the ones you want to disable
# --disable-alerts
# --disable-host-persistency

# =============================================================================
# Logging Configuration
# =============================================================================
# Daemon mode (runs in background)
--daemon

# Log level (trace, debug, info, normal, warning, error)
--log-level=info
